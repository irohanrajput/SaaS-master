<!DOCTYPE html>
<html>
<head>
    <title>Social Media Connections Test</title>
    <script>
        async function testAPIs() {
            console.log('üß™ Testing Social Media APIs from Browser...');
            
            // Test Facebook Metrics
            try {
                const fbResponse = await fetch('/api/facebook/metrics?email=test@example.com&period=week');
                const fbData = await fbResponse.json();
                console.log('‚úÖ Facebook API:', fbData.success, fbData.data.followers, 'followers');
            } catch (error) {
                console.error('‚ùå Facebook API Error:', error);
            }
            
            // Test Instagram Metrics
            try {
                const igResponse = await fetch('/api/instagram/metrics?email=test@example.com&period=week');
                const igData = await igResponse.json();
                console.log('‚úÖ Instagram API:', igData.success, igData.data.followers, 'followers');
            } catch (error) {
                console.error('‚ùå Instagram API Error:', error);
            }
            
            // Test Connect
            try {
                const connectResponse = await fetch('/api/social/connect', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ platform: 'Facebook' })
                });
                const connectData = await connectResponse.json();
                console.log('‚úÖ Connect API:', connectData.success, connectData.message);
            } catch (error) {
                console.error('‚ùå Connect API Error:', error);
            }
            
            // Test Disconnect
            try {
                const disconnectResponse = await fetch('/api/social/connect', {
                    method: 'DELETE',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ platform: 'Facebook' })
                });
                const disconnectData = await disconnectResponse.json();
                console.log('‚úÖ Disconnect API:', disconnectData.success, disconnectData.message);
            } catch (error) {
                console.error('‚ùå Disconnect API Error:', error);
            }
        }
        
        // Run tests when page loads
        window.onload = testAPIs;
    </script>
</head>
<body>
    <h1>Social Media Connections Test</h1>
    <p>Check browser console for test results.</p>
    <button onclick="testAPIs()">Run Tests Again</button>
</body>
</html>
